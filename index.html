<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Ryano Trip Sheet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <!-- Login Overlay -->
    <div id="login-overlay">
        <div id="login-box">
            <h2>Ryano Trip Sheet Login</h2>
            <label for="employeeId">Employee ID</label>
            <input type="text" id="employeeId" placeholder="Enter ID" />
            <label for="password">Password</label>
            <input type="password" id="password" placeholder="Enter Password" />
            <button id="loginButton">Login</button>
            <p id="loginError" class="error-message"></p>
        </div>
    </div>

    <!-- App Container -->
    <div id="app-container">
        <div id="main">
            <!-- Header -->
            <header id="header">
                <div id="user-info">
                    <span id="userIdLabel"></span>
                </div>
                <div class="header-right">
                    <button id="darkModeToggle">üåô Dark Mode</button>
                    <button id="logoutButton" style="margin-left: 10px;">Logout</button>
                </div>
            </header>

            <!-- Main Content - ONLY TRIP SHEET -->
            <main id="content">
                <!-- Trip Sheet View -->
                <section class="view" id="view-trip-sheet">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h1>üìã Trip Sheet</h1>
                        <button id="printStyleGuide" style="background: #6c757d; padding: 8px 16px;" onclick="showPrintGuide()">üñ®Ô∏è Print Guide</button>
                    </div>

                    <form id="tripForm">
                        <!-- Driver Info Row -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px; background: #f8f9fa; padding: 20px; border-radius: 8px;">
                            <div>
                                <label><strong>Driver Name</strong></label>
                                <input type="text" id="driverName" required readonly style="background: #e9ecef;" />
                            </div>
                            <div>
                                <label><strong>Trip Date</strong></label>
                                <input type="date" id="tripdate" required />
                            </div>
                            <div>
                                <label><strong>Van ID</strong></label>
                                <input type="text" id="vanID" required />
                            </div>
                            <div>
                                <label><strong>Trip Type</strong></label>
                                <input type="text" id="tripType" placeholder="e.g., Crew Transport" />
                            </div>
                        </div>

                        <!-- Trip Details Grid -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px; background: #f8f9fa; padding: 20px; border-radius: 8px;">
                            <div>
                                <label><strong>RR #</strong></label>
                                <input type="text" id="rrNumber" placeholder="RR number" />
                            </div>
                            <div>
                                <label><strong>Hallcon #</strong></label>
                                <input type="text" id="hallconNumber" placeholder="Hallcon number" />
                            </div>
                            <div>
                                <label><strong>Dispatcher #</strong></label>
                                <input type="text" id="dispatcher" placeholder="Dispatcher number" />
                            </div>
                            <div>
                                <label><strong>Crew Names</strong></label>
                                <input type="text" id="crewNames" placeholder="Names of crew members" />
                            </div>
                            <div>
                                <label><strong>Destination</strong></label>
                                <input type="text" id="destination" placeholder="Where to?" />
                            </div>
                            <div>
                                <label><strong>Start Odometer</strong></label>
                                <input type="number" id="startOdometer" required placeholder="00000" />
                            </div>
                        </div>

                        <!-- STOPS TABLE -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                            <h2 style="margin-bottom: 15px;">üìç Stops With Crew</h2>
                            <div class="table-container">
                                <table id="stopsTable" style="border: 2px solid #000;">
                                    <thead>
                                        <tr style="background: #e9ecef;">
                                            <th style="text-align: center; width: 8%;">Stop #</th>
                                            <th style="text-align: center; width: 15%;">Times</th>
                                            <th style="text-align: center; width: 25%;">Location</th>
                                            <th style="text-align: center; width: 12%;">Odometer</th>
                                            <th style="text-align: center; width: 10%;">Why?</th>
                                            <th style="text-align: center; width: 10%;">Wait (min)</th>
                                            <th style="text-align: center; width: 10%;">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center; font-weight: bold;" class="stop-number">1</td>
                                            <td><input type="text" class="stop-times" placeholder="HHMM-HHMM" style="text-align: center;"></td>
                                            <td><input type="text" class="stop-location" placeholder="Street address / cross streets" style="width: 100%;"></td>
                                            <td><input type="text" class="stop-odometer" placeholder="00000" style="text-align: center;"></td>
                                            <td><input type="text" class="stop-why" maxlength="4" placeholder="Code" style="text-align: center;"></td>
                                            <td><input type="number" class="stop-wait" value="0" style="text-align: center; width: 80px;"></td>
                                            <td style="text-align: center;">
                                                <button type="button" class="remove-stop-btn" style="background: #dc3545; padding: 5px 10px;">‚úñ</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div style="display: flex; gap: 10px; margin-top: 15px;">
                                <button type="button" id="addStopRow" style="background: #28a745;">+ Add Stop</button>
                                <button type="button" id="removeStopRow" style="background: #dc3545;">‚àí Remove Last Stop</button>
                            </div>
                        </div>

                        <!-- END OF TRIP SECTION -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px; background: #f8f9fa; padding: 20px; border-radius: 8px;">
                            <div>
                                <label><strong>Drop Crew Odometer</strong></label>
                                <input type="number" id="dropcrewOdometer" required placeholder="00000" />
                            </div>
                            <div>
                                <label><strong>Drop Crew Time</strong></label>
                                <input type="text" id="dropcrewTime" required placeholder="HHMM" />
                            </div>
                            <div>
                                <label><strong>Clock In (Van PU)</strong></label>
                                <input type="text" id="clockIn" required placeholder="HHMM" />
                            </div>
                            <div>
                                <label><strong>Clock Out (Van DO)</strong></label>
                                <input type="text" id="clockOut" required placeholder="HHMM" />
                            </div>
                            <div style="background: #e9ecef; padding: 10px; border-radius: 4px;">
                                <strong>Total Miles:</strong> <span id="totalMiles" style="font-size: 1.2em; margin-left: 10px;">0</span>
                            </div>
                            <div style="background: #e9ecef; padding: 10px; border-radius: 4px;">
                                <strong>Total Wait:</strong> <span id="totalWait" style="font-size: 1.2em; margin-left: 10px;">0</span>
                            </div>
                        </div>

                        <!-- NOTES -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                            <label><strong>üìù Notes / Approvals</strong></label>
                            <textarea id="notes" placeholder="Add notes, approvals, special instructions here..." rows="3" style="width: 100%; margin-top: 10px; padding: 10px;"></textarea>
                        </div>

                        <!-- ACTION BUTTONS -->
                        <div class="button-row" style="display: flex; gap: 15px; justify-content: flex-end;">
                            <button type="submit" id="submitTrip" style="background: #0077cc; padding: 12px 24px;">üì§ Submit Trip</button>
                            <button type="button" id="previewTrip" style="background: #6c757d; padding: 12px 24px;">üñ®Ô∏è Print Preview</button>
                            <button type="button" id="clearFormBtn" style="background: #6c757d; padding: 12px 24px;">üßπ Clear Form</button>
                        </div>

                        <p id="tripMessage" class="status-message"></p>
                    </form>
                </section>
            </main>
        </div>
    </div>

    <!-- Print Guide Modal -->
    <div id="printGuideModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 9999; align-items: center; justify-content: center;">
        <div style="background: white; padding: 30px; border-radius: 12px; max-width: 600px; margin: 50px auto;">
            <h2 style="margin-bottom: 20px;">üñ®Ô∏è Print-Ready Preview Guide</h2>
            <div style="margin-bottom: 25px;">
                <p style="margin-bottom: 15px;"><strong>Your trip sheet preview is already print-ready:</strong></p>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 12px; display: flex; align-items: center;">‚úÖ &nbsp; All cells centered</li>
                    <li style="margin-bottom: 12px; display: flex; align-items: center;">‚úÖ &nbsp; Evenly spaced columns</li>
                    <li style="margin-bottom: 12px; display: flex; align-items: center;">‚úÖ &nbsp; Clean borders</li>
                    <li style="margin-bottom: 12px; display: flex; align-items: center;">‚úÖ &nbsp; Print-friendly layout</li>
                </ul>
            </div>
            <div style="background: #f8f9fa; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                <p><strong>Print Instructions:</strong></p>
                <p>1. Click "Print Preview" button</p>
                <p>2. Right-click on the preview ‚Üí Print</p>
                <p>3. Or use Ctrl+P (Cmd+P on Mac)</p>
            </div>
            <button onclick="document.getElementById('printGuideModal').style.display='none'" style="background: #0077cc; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;">Got it</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
